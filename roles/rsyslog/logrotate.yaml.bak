- hosts: all
  vars:
    logrotate_scripts:
      - name: logfile
        paths: 
          - /var/log/notice
          - /var/log/warning
          - /var/log/error
          - /var/log/crit
          - /var/log/alert
          - /var/log/emerg_log
        options:
          - daily
          - dateext
          - dateformat _%Y_%m_%d
          - maxage 90
          - rotate 90
          - missingok
          - ifempty
          - olddir /logBakServer/systemlog_allserver/{{ inventory_hostname }}
          - notifempty
          - create 0600 root root
        scripts:
          postrotate: "[ -s/var/run/syslogd.pid ] && /bin/kill -HUP `cat /var/run/syslogd.pid 2> /dev/null` 2> /dev/null || true"
  roles:
    - ansible-logrotate

